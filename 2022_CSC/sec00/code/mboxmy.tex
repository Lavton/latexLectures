\documentclass{article}
\usepackage{fontspec}
\pagestyle{empty}
\usepackage{geometry}
\geometry{paperwidth=40mm, paperheight=50mm, left=2mm, top=0mm, right=0mm, bottom=0mm} %, layoutwidth=60mm, layoutheight=35mm,

\usepackage{color}
\parindent=0pt
\newcommand{\boxing}[1]{{%
\ifcsname boxtodimen\endcsname%
\else%
\newbox\boxtodimen%
\newdimen\hb%
\newdimen\db%
\newdimen\wb%
\fi%
\leavevmode 
\setbox\boxtodimen=\hbox{#1}%
\hb=\the\ht\boxtodimen%
\db=\the\dp\boxtodimen%
\wb=\the\wd\boxtodimen%
{\color{red}\lower1pt\hbox{---}}%
\hbox to \wb{%
    \hbox to 0pt{\box\boxtodimen}%
    \hbox to 0pt{\vbox to 0pt{\hbox{%
    \color{blue}
        \hbox to 0pt{\raisebox{-\db}[0pt][0pt]{\rule{0.4pt}{\dimexpr\hb+\db}}}%left
        \hbox to 0pt{\hbox to \wb{}\raisebox{-\db}[0pt][0pt]{\rule{0.4pt}{\dimexpr\hb+\db}}}%right
        \hbox to 0pt{\raisebox{\hb}[0pt][0pt]{\rule{\wb}{0.4pt}}}%top
        \hbox to 0pt{\raisebox{-\db}[0pt][0pt]{\rule{\wb}{0.4pt}}}%bottom
    }}}%
}{\color{red}\raise1pt\hbox{---}}%
}%
}

\begin{document}
% \vspace*{\fill} \vspace*{-5ex}
\obeylines
\boxing{\mbox{aa bb}}
\boxing{\makebox{aa bb}}
\boxing{\makebox[20mm]{aa bb}}
\vspace{2ex}
\boxing{\makebox[20mm][c]{aa bb}}
\boxing{\makebox[20mm][l]{aa bb}}
\boxing{\makebox[20mm][r]{aa bb}}
\boxing{\makebox[20mm][s]{aa bb}}
\vspace*{\fill}
\end{document}